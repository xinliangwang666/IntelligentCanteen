{"version":3,"file":"user.js","sources":["pages/user/user.vue"],"sourcesContent":["<template>\n  <view class=\"profile-container\">\n    <!-- 用户信息 -->\n    <view class=\"user-info-card\">\n      <view class=\"avatar-section\" @click=\"changeAvatar\">\n        <image class=\"avatar\" :src=\"userInfo.avatar\" mode=\"aspectFill\" />\n        <text class=\"edit-icon\">✎</text>\n      </view>\n      <view class=\"info-section\">\n        <view class=\"info-item\">\n          <text class=\"label\">用户名：</text>\n          <input class=\"value\" v-model=\"userInfo.username\" />\n          <text class=\"edit-btn\" @click=\"editUsername\">编辑</text>\n        </view>\n        <view class=\"info-item\">\n          <text class=\"label\">手机号：</text>\n          <input class=\"value\" v-model=\"userInfo.phone\" disabled />\n          <text class=\"edit-btn\" @click=\"changePhone\">更换</text>\n        </view>\n      </view>\n    </view>\n\n    <!-- 功能入口 -->\n    <view class=\"menu-card\">\n      <view class=\"menu-item\" @click=\"navigateTo('favorites')\">\n        <view class=\"menu-left\">\n          <image class=\"menu-icon\" src=\"/static/icon-fav.png\" />\n          <text>收藏的店铺</text>\n        </view>\n        <text class=\"arrow\">›</text>\n      </view>\n\n      <view class=\"menu-item\" @click=\"navigateTo('orders')\">\n        <view class=\"menu-left\">\n          <image class=\"menu-icon\" src=\"/static/icon-order.png\" />\n          <text>历史订单</text>\n        </view>\n        <text class=\"arrow\">›</text>\n      </view>\n\n      <view class=\"menu-item\" @click=\"navigateTo('records')\">\n        <view class=\"menu-left\">\n          <image class=\"menu-icon\" src=\"/static/icon-record.png\" />\n          <text>红包餐券</text>\n        </view>\n        <text class=\"arrow\">›</text>\n      </view>\n    </view>\n\n    <!-- 退出登录 -->\n    <button class=\"logout-btn\" @click=\"logout\">退出登录</button>\r\n\t\r\n\t<!-- 添加产品 logo -->\r\n\t<image class=\"logo\" src=\"/static/logo1.png\" alt=\"Logo\" />\n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      userInfo: {\n        avatar: '/static/avatar-default.png',\n        username: '美食探索家',\n        phone: '138****5678'\n      }\n    }\n  },\n  methods: {\n    changeAvatar() {\n      uni.chooseImage({\n        count: 1,\n        success: (res) => {\n          this.userInfo.avatar = res.tempFilePaths[0]\n        }\n      })\n    },\n    editUsername() {\n      uni.showModal({\n        title: '修改用户名',\n        content: '请输入新用户名',\n        editable: true,\n        success: (res) => {\n          if (res.confirm) {\n            this.userInfo.username = res.content\n          }\n        }\n      })\n    },\n    changePhone() {\n      uni.navigateTo({\n        url: '/pages/profile/change-phone'\n      })\n    },\n    navigateTo(type) {\n      const routes = {\n        favorites: '/pages/favorites/list',\n        orders: '/pages/orders/history',\n        records: '/pages/records/list'\n      }\n      uni.navigateTo({ url: routes[type] })\n    },\n    logout() {\n      uni.showModal({\n        title: '确认退出',\n        content: '确定要退出登录吗？',\n        success: (res) => {\n          if (res.confirm) {\n            uni.redirectTo({ url: '/pages/login/login' })\n          }\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\r\n\t\r\n.logo {\n  width: 600rpx; // 设置图片宽度\n  height: 300rpx; // 设置图片高度\n  display: block; // 确保图片块级显示\n  margin: 0 auto; // 水平居中\r\n  margin-top: 80rpx;\n}\r\n\n.profile-container {\n  padding: 30rpx;\n  background: #f5f5f5;\n  min-height: 100vh;\r\n  position: relative; // 确保子元素可以使用绝对定位\n}\n\n.user-info-card {\r\n  margin-top: 40rpx;\n  background: white;\n  border-radius: 20rpx;\n  padding: 40rpx 20rpx;\n  margin-bottom: 30rpx;\n  box-shadow: 0 4rpx 12rpx rgba(0,0,0,0.06);\n  display: flex;\n  align-items: center;\n\n  .avatar-section {\n    position: relative;\n    margin-right: 40rpx;\n    .avatar {\n      width: 140rpx;\n      height: 140rpx;\n      border-radius: 50%;\n      border: 4rpx solid #f0f0f0;\r\n\t  margin-top: -20rpx;\n    }\n    .edit-icon {\n      position: absolute;\n      right: 0;\n      bottom: 0;\n      background: #007aff;\n      color: white;\n      width: 50rpx;\n      height: 50rpx;\n      border-radius: 50%;\n      text-align: center;\n      line-height: 50rpx;\n      font-size: 28rpx;\n    }\n  }\n\n  .info-item {\n    margin-bottom: 30rpx;\n    display: flex;\n    align-items: center;\n    .label {\n      color: #666;\n      width: 140rpx;\n    }\n    .value {\n      flex: 1;\n      color: #333;\n      font-weight: 500;\n      &[disabled] {\n        opacity: 0.8;\n      }\n    }\n    .edit-btn {\n      color: #007aff;\n      margin-left: 20rpx;\n      padding: 8rpx 20rpx;\n      border-radius: 30rpx;\n      background: #f0f6ff;\n    }\n  }\n}\n\n.menu-card {\r\n  margin-top: 40rpx; // 向下移动 80rpx\n  background: white;\n  border-radius: 20rpx;\n  box-shadow: 0 4rpx 12rpx rgba(0,0,0,0.06);\n  \n  .menu-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 30rpx;\n    border-bottom: 1rpx solid #eee;\n    \n    &:last-child {\n      border-bottom: none;\n    }\n\n    .menu-left {\n      display: flex;\n      align-items: center;\n      .menu-icon {\n        width: 50rpx;\n        height: 50rpx;\n        margin-right: 20rpx;\n      }\n    }\n\n    .arrow {\n      font-size: 50rpx;\n      color: #999;\n    }\n  }\n}\n\n.logout-btn {\n  margin-top: 60rpx;\n  background: #ff4d4f;\n  color: white;\n  border-radius: 50rpx;\n  height: 90rpx;\n  line-height: 90rpx;\n  font-size: 32rpx;\n  \n  &::after {\n    border: none;\n  }\n  \n  &:active {\n    opacity: 0.8;\n  }\n}\n</style>"],"names":["uni"],"mappings":";;;AA0DA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,UAAU;AAAA,QACR,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,OAAO;AAAA,MACT;AAAA,IACF;AAAA,EACD;AAAA,EACD,SAAS;AAAA,IACP,eAAe;AACbA,oBAAAA,MAAI,YAAY;AAAA,QACd,OAAO;AAAA,QACP,SAAS,CAAC,QAAQ;AAChB,eAAK,SAAS,SAAS,IAAI,cAAc,CAAC;AAAA,QAC5C;AAAA,OACD;AAAA,IACF;AAAA,IACD,eAAe;AACbA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,SAAS;AAAA,QACT,UAAU;AAAA,QACV,SAAS,CAAC,QAAQ;AAChB,cAAI,IAAI,SAAS;AACf,iBAAK,SAAS,WAAW,IAAI;AAAA,UAC/B;AAAA,QACF;AAAA,OACD;AAAA,IACF;AAAA,IACD,cAAc;AACZA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,OACN;AAAA,IACF;AAAA,IACD,WAAW,MAAM;AACf,YAAM,SAAS;AAAA,QACb,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,SAAS;AAAA,MACX;AACAA,oBAAG,MAAC,WAAW,EAAE,KAAK,OAAO,IAAI,GAAG;AAAA,IACrC;AAAA,IACD,SAAS;AACPA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,CAAC,QAAQ;AAChB,cAAI,IAAI,SAAS;AACfA,0BAAAA,MAAI,WAAW,EAAE,KAAK,sBAAsB;AAAA,UAC9C;AAAA,QACF;AAAA,OACD;AAAA,IACH;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;"}