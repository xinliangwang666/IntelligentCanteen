{"version":3,"file":"shop.js","sources":["pages/shop/shop.vue","../../../HBuilder X/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvc2hvcC9zaG9wLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"shop-container\">\n    <!-- 顶部操作栏 -->\n    <view class=\"top-bar\">\n      <view class=\"delivery-type\">\n        <button \n          v-for=\"type in deliveryTypes\" \n          :key=\"type.value\"\n          :class=\"['type-btn', delivery === type.value ? 'active' : '']\"\n          @click=\"delivery = type.value\"\n        >\n          {{ type.label }}\n        </button>\n      </view>\n      <input \n        v-model=\"searchKey\" \n        class=\"search-input\" \n        placeholder=\"搜索菜品\" \n        placeholder-style=\"color: #999\"\n      />\n    </view>\n\n    <!-- 主体内容 -->\n    <view class=\"main-content\">\n      <!-- 左侧分类栏 -->\n      <scroll-view class=\"category-list\" scroll-y>\n        <view \n          v-for=\"(cat, index) in categories\" \n          :key=\"index\"\n          :class=\"['category-item', currentTab === index ? 'active' : '']\"\n          @click=\"currentTab = index\"\n        >\n          {{ cat.name }}\n          <text class=\"category-count\"></text>\n        </view>\n      </scroll-view>\n\n      <!-- 右侧菜品列表 -->\n      <scroll-view class=\"dish-list\" scroll-y>\n        <view \n          v-for=\"dish in filteredDishes\" \n          :key=\"dish.id\" \n          class=\"dish-card\"\n        >\n          <image class=\"dish-image\" :src=\"dish.image\" mode=\"aspectFill\" />\n          <view class=\"dish-info\">\n            <view class=\"dish-header\">\n              <view class=\"dish-name\">{{ dish.name }}</view>\n              <view class=\"dish-tag\" v-if=\"dish.isHot\">热销</view>\n            </view>\n            <view class=\"dish-desc\">{{ dish.desc }}</view>\n            <view class=\"dish-footer\">\n              <text class=\"price\">￥{{ dish.price }}</text>\n              <view class=\"quantity-control\">\n                <button \n                  class=\"btn-minus\" \n                  @click.stop=\"adjustQuantity(dish, -1)\"\n                  :disabled=\"dish.quantity <= 0\"\n                >-</button>\n                <text class=\"quantity\">{{ dish.quantity || 0 }}</text>\n                <button \n                  class=\"btn-plus\" \n                  @click.stop=\"adjustQuantity(dish, 1)\"\n                >+</button>\n              </view>\n            </view>\n          </view>\n        </view>\n      </scroll-view>\n    </view>\n\n    <!-- 底部结算栏 -->\n    <view class=\"checkout-bar\">\n      <view class=\"total-price\">\n        合计：<text class=\"price\">￥{{ totalPrice }}</text>\n      </view>\n      <button \n        class=\"checkout-btn\" \n        @click=\"handleCheckout\"\n        :disabled=\"totalQuantity === 0\"\n      >去结算({{ totalQuantity }})</button>\n    </view>\n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      currentTab: 0,\n      searchKey: '',\n      delivery: 'pickup',\n      deliveryTypes: [\n        { label: '自提', value: 'pickup' },\n        { label: '外送', value: 'delivery' }\n      ],\n      categories: [\n        { name: '汉堡主食', count: 2 },\n        { name: '小吃配餐', count: 2 },\n        { name: '甜品饮料', count: 2 },\n        { name: '超值套餐', count: 2 }\n      ],\n      dishList: [\n        // 汉堡主食\n        {\n          id: 1,\n          name: '巨无霸汉堡',\n          price: 28,\n          desc: '双层牛肉经典风味',\n          image: '/static/burger.jpg',\n          category: '汉堡主食',\n          isHot: true,\n          quantity: 0\n        },\n        {\n          id: 2,\n          name: '安格斯厚牛堡',\n          price: 38,\n          desc: '澳洲进口牛肉制作',\n          image: '/static/burger1.jpg',\n          category: '汉堡主食',\n          quantity: 0\n        },\n        // 小吃配餐\n        {\n          id: 3,\n          name: '黄金薯条',\n          price: 12,\n          desc: '外酥里嫩经典小吃',\n          image: '/static/fries.jpg',\n          category: '小吃配餐',\n          isHot: true,\n          quantity: 0\n        },\n        {\n          id: 4,\n          name: '麦乐鸡块',\n          price: 15,\n          desc: '10块欢乐分享装',\n          image: '/static/chicken.png',\n          category: '小吃配餐',\n          quantity: 0\n        },\n        // 甜品饮料\n        {\n          id: 5,\n          name: '草莓圣代',\n          price: 10,\n          desc: '丝滑冰淇淋配草莓酱',\n          image: '/static/sundae.jpg',\n          category: '甜品饮料',\n          quantity: 0\n        },\n        {\n          id: 6,\n          name: '冰镇可乐',\n          price: 8,\n          desc: '500ml畅爽饮品',\n          image: '/static/cola.jpg',\n          category: '甜品饮料',\n          quantity: 0\n        },\n        // 超值套餐\n        {\n          id: 7,\n          name: '超值全家桶',\n          price: 88,\n          desc: '3汉堡+2小食+4饮料',\n          image: '/static/combo1.jpg',\n          category: '超值套餐',\n          quantity: 0\n        },\n        {\n          id: 8,\n          name: '双人分享餐',\n          price: 66,\n          desc: '2汉堡+2小食+2饮料',\n          image: '/static/combo2.jpg',\n          category: '超值套餐',\n          quantity: 0\n        }\n      ]\n    }\n  },\n  computed: {\n    filteredDishes() {\n      return this.dishList.filter(item => \n        item.name.includes(this.searchKey) && \n        item.category === this.categories[this.currentTab].name\n      )\n    },\n    totalPrice() {\n      return this.dishList.reduce((sum, item) => sum + (item.price * (item.quantity || 0)), 0)\n    },\n    totalQuantity() {\n      return this.dishList.reduce((sum, item) => sum + (item.quantity || 0), 0)\n    }\n  },\n  methods: {\n    adjustQuantity(dish, delta) {\n      this.$set(dish, 'quantity', Math.max(0, (dish.quantity || 0) + delta))\n    },\n    handleCheckout() {\n      uni.navigateTo({\n        url: '/pages/pay/pay'\n      })\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\n.shop-container {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n\n  .top-bar {\n    display: flex;\n    align-items: center;\n    padding: 20rpx 30rpx;\n    background: #fff;\n    box-shadow: 0 4rpx 12rpx rgba(0,0,0,0.06);\n\n    .delivery-type {\n      display: flex;\n      margin-right: 30rpx;\n      \n      .type-btn {\n        height: 60rpx;\n        line-height: 60rpx;\n        padding: 0 30rpx;\n        margin: 0;\n        font-size: 28rpx;\n        border-radius: 30rpx;\n        background: #f5f5f5;\n        color: #666;\n        \n        &.active {\n          background: #007aff;\n          color: white;\n        }\n        \n        &::after { border: none; }\n      }\n    }\n\n    .search-input {\n      flex: 1;\n      height: 70rpx;\n      padding: 0 30rpx;\n      background: #f5f5f5;\n      border-radius: 35rpx;\n      font-size: 28rpx;\n    }\n  }\n\n  .main-content {\n    flex: 1;\n    display: flex;\n    overflow: hidden;\n\n    .category-list {\n      width: 200rpx;\n      background: #f8f8f8;\n      \n      .category-item {\n        height: 100rpx;\n        line-height: 100rpx;\n        padding: 0 20rpx;\n        font-size: 28rpx;\n        color: #666;\n        border-left: 6rpx solid transparent;\n        \n        &.active {\n          background: white;\n          color: #007aff;\n          border-left-color: #007aff;\n          font-weight: bold;\n        }\n      }\n    }\n\n    .dish-list {\n      flex: 1;\n      padding: 20rpx 30rpx;\n\n      .dish-card {\n        display: flex;\n        margin-bottom: 30rpx;\n        background: white;\n        border-radius: 16rpx;\n        box-shadow: 0 4rpx 12rpx rgba(0,0,0,0.06);\n\n        .dish-image {\n          width: 200rpx;\n          height: 200rpx;\n          border-radius: 16rpx;\n        }\n\n        .dish-info {\n          flex: 1;\n          padding: 20rpx;\n          \n          .dish-name {\n            font-size: 32rpx;\n            font-weight: bold;\n            margin-bottom: 10rpx;\n          }\n          \n          .dish-desc {\n            font-size: 24rpx;\n            color: #999;\n            margin-bottom: 20rpx;\n          }\n\n          .dish-footer {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n\n            .price {\n              color: #ff4444;\n              font-size: 36rpx;\n              font-weight: bold;\n            }\n\n            .quantity-control {\n              display: flex;\n              align-items: center;\n              \n              button {\n                width: 60rpx;\n                height: 60rpx;\n                line-height: 60rpx;\n                padding: 0;\n                margin: 0 10rpx;\n                border-radius: 50%;\n                background: #f5f5f5;\n                \n                &[disabled] {\n                  opacity: 0.5;\n                }\n              }\n              \n              .btn-plus {\n                background: #007aff;\n                color: white;\n              }\n              \n              .quantity {\n                min-width: 40rpx;\n                text-align: center;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  .checkout-bar {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 100rpx;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 0 30rpx;\n    background: white;\n    box-shadow: 0 -4rpx 12rpx rgba(0,0,0,0.06);\n\n    .total-price {\n      font-size: 32rpx;\n      \n      .price {\n        color: #ff4444;\n        font-weight: bold;\n      }\n    }\n\n    .checkout-btn {\n      height: 80rpx;\n      line-height: 80rpx;\n      padding: 0 60rpx;\n      background: #007aff;\n      color: white;\n      border-radius: 40rpx;\n      font-size: 32rpx;\n      \n      &::after { border: none; }\n    }\n  }\r\n  .category-list {\r\n      .category-item {\r\n        position: relative;\r\n        &.active {\r\n          background: linear-gradient(90deg, #f8f8f8, white);\r\n          .category-count {\r\n            color: #007aff;\r\n          }\r\n        }\r\n        .category-count {\r\n          position: absolute;\r\n          right: 20rpx;\r\n          top: 50%;\r\n          transform: translateY(-50%);\r\n          font-size: 24rpx;\r\n          color: #999;\r\n        }\r\n      }\r\n    }\r\n  \r\n    .dish-card {\r\n      position: relative;\r\n      transition: all 0.3s ease;\r\n      \r\n      &:active {\r\n        transform: scale(0.98);\r\n      }\r\n  \r\n      .dish-header {\r\n        display: flex;\r\n        align-items: center;\r\n        .dish-tag {\r\n          margin-left: 15rpx;\r\n          padding: 4rpx 12rpx;\r\n          background: #ffeaea;\r\n          color: #ff4444;\r\n          font-size: 20rpx;\r\n          border-radius: 8rpx;\r\n        }\r\n      }\r\n  \r\n      .dish-image {\r\n        border: 4rpx solid rgba(0,0,0,0.06);\r\n      }\r\n  \r\n      // .price {\r\n      //   &::before {\r\n      //     content: '¥';\r\n      //     font-size: 0.8em;\r\n      //   }\r\n      // }\r\n  \r\n      .quantity-control {\r\n        button {\r\n          transition: all 0.2s ease;\r\n          &:active {\r\n            transform: scale(0.9);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  \r\n    .checkout-btn {\r\n      transition: all 0.3s ease;\r\n      &[disabled] {\r\n        background: #ccc !important;\r\n        opacity: 0.8;\r\n      }\r\n    }\n}\n</style>\r\n","import MiniProgramPage from 'D:/软件工程/wllx2/wllx/pages/shop/shop.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":"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"}